{#
  Info Box Component

  Displays an informational notice with icon.

  Usage:
  {% include 'lindemannrock-base/_components/info-box' with {
      message: 'Your message here',
      type: 'info',   // 'info', 'success', 'warning'
      margin: 'top',  // 'top' (default), 'both', 'none'
      bg: 'gray'      // 'gray' (default), 'white'
  } %}

  @link      https://lindemannrock.com
  @copyright Copyright (c) 2025 LindemannRock
#}

{% set iconType = type ?? 'info' %}
{% set marginStyle = margin ?? 'top' %}

{% set marginCss = '' %}
{% if marginStyle == 'both' %}
    {% set marginCss = 'margin-block: 1.5rem;' %}
{% elseif marginStyle == 'none' %}
    {% set marginCss = '' %}
{% else %}
    {% set marginCss = 'margin-top: 1.5rem;' %}
{% endif %}

{% set bgStyle = (bg ?? 'gray') == 'white' ? 'background: #ffffff;' : 'background: var(--pane-bg); background-color: var(--gray-050);' %}

<div style="{{ marginCss }} padding: 1rem; {{ bgStyle }} border: 1px solid #e5e7eb; border-radius: 4px;">
    <p class="light" style="margin: 0; display: flex; align-items: flex-start; gap: 8px;">
        {% if iconType == 'success' %}
            {# Success checkmark icon #}
            <svg aria-hidden="true" width="16" height="16" viewBox="0 0 16 16" style="flex-shrink: 0; margin-top: 2px; color: #10b981;">
                <path fill="currentColor" d="M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm3.7 6.3l-4 4c-.2.2-.4.3-.7.3s-.5-.1-.7-.3l-2-2c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l1.3 1.3 3.3-3.3c.4-.4 1-.4 1.4 0s.4 1 0 1.4z"/>
            </svg>
        {% elseif iconType == 'warning' %}
            {# Warning icon #}
            <svg aria-hidden="true" width="16" height="16" viewBox="0 0 16 16" style="flex-shrink: 0; margin-top: 2px; color: #f59e0b;">
                <path fill="currentColor" d="M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm1 12H7V7h2v5zm0-6H7V4h2v2z"/>
            </svg>
        {% else %}
            {# Info icon (default) #}
            <svg aria-hidden="true" width="16" height="16" viewBox="0 0 16 16" style="flex-shrink: 0; margin-top: 2px;">
                <circle cx="8" cy="8" r="7" fill="none" stroke="currentColor" stroke-width="1.5"></circle>
                <text x="8" y="12" text-anchor="middle" font-size="11" font-weight="bold" fill="currentColor">i</text>
            </svg>
        {% endif %}
        <span>{{ message|raw }}</span>
    </p>
</div>
